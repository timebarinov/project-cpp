# Транспортный справочник, часть M. Продвинутая склейка соседних координат

### Условие

Алгоритм склейки соседних широт и долгот из части K обладает одной особенностью, которой мы тоже пожертвуем в угоду аккуратности схемы и равномерности распределения остановок по ней: если одна остановка была западнее другой, то на итоговой карте она окажется либо левее, либо на той же y-координате. Это важно для остановок в рамках одного маршрута, но не очень критично для остановок с разных маршрутов.

Поэтому изменим алгоритм нумерации долгот (и широт) следующим образом. Как и прежде, первая (минимальная) долгота получает номер 0. Номер очередной долготы тоже равен 0, если среди предыдущих (то есть меньших её) долгот нет её маршрутных соседей (см. определение в части K). Если же у очередной долготы есть маршрутные соседи, меньшие её, то номер этой долготы равен номеру максимального из меньших её маршрутных соседей плюс один.

Пусть, например, все долготы представляют собой набор [50.1, 50.2, 50.3, 50.4]. Если они соответствуют остановкам разных автобусов, то получат номера [0, 0, 0, 0], как и раньше. Если же остановки [50.1, 50.2] соответствуют одному маршруту, а [50.3, 50.4] — другому, то долготы получат номера [0, 1, 0, 1], так как долгота 50.3 не имеет маршрутных соседей среди [50.1, 50.2].

Таким образом, сохраняется взаимный порядок остановок внутри одной линии, но между линиями он может нарушаться.